# ==================================================
# GITHUB ACTIONS - Testes Autom√°ticos
# ==================================================

name: Testes Autom√°ticos

# QUANDO executar: em todo push ou pull request
on:
  push:
    branches: [main]
  pull_request:
    branches: [main]

# O QUE fazer:
jobs:
  testar:
    runs-on: ubuntu-latest
    
    steps:
      # STEP 1: Pegar o c√≥digo
      - name: üì• Baixar c√≥digo
        uses: actions/checkout@v3
      
      # STEP 2: Instalar Python
      - name: üêç Instalar Python 3.11
        uses: actions/setup-python@v4
        with:
          python-version: '3.11'
      
      # STEP 3: Instalar bibliotecas
      - name: üì¶ Instalar depend√™ncias
        run: |
          pip install -r requirements.txt
      
      # STEP 4: VALIDAR DADOS (Pandera)
      - name: ‚úÖ Validar dados dos clientes
        run: |
          python validador.py
      
      # STEP 5: RODAR TESTES (pytest)
      - name: üß™ Rodar testes da calculadora
        run: |
          pytest test_calculadora.py -v

# ==================================================
# RESULTADO:
# - Se TODOS steps passarem: ‚úÖ Sucesso
# - Se ALGUM falhar: ‚ùå Falha (n√£o permite merge)
#
# Ver em: github.com/[seu-repo]/actions
# ==================================================
